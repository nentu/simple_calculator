ORG 0x0				;1000-0001=0999
A1: WORD 0x0
A2: WORD 0x0
A3: WORD 0x0
A4: WORD 0x1
B1: WORD 0x1
B2: WORD 0x0
B3: WORD 0x0
B4: WORD 0x0

ORG 0x40
PRINT_NUMBER: 
LD LIST_LENGTH
ST COUNTER
LD &0x1
ST LIST_POS2
PRINT_LOOP:
LD -(LIST_POS2)
PUSH
S1: IN 0xD
AND #0x40
BEQ S1
POP
ADD #0x30
OUT 0xC
LOOP COUNTER
JUMP PRINT_LOOP
SWAP
ST &0x1
SWAP
POP
RET

ORG 0xA
LIST_START: WORD 0x0
LIST_LENGTH: WORD 0x4
LIST_POS1: WORD 0x0
LIST_POS2: WORD 0x0
COUNTER: WORD 0x0

START: LD LIST_START
ST LIST_POS1
ADD LIST_LENGTH
ST LIST_POS2
LD LIST_LENGTH
ST COUNTER
CLC
LOOPP_MINUS:
LD (LIST_POS1)+
BCC CONT
DEC
CONT: 
SUB (LIST_POS2)
BPL CHANGE				  ;<0
SUB #0x6
CLC
CMC
CHANGE: 
AND #0xF
ST (LIST_POS2)+
LOOP COUNTER
JUMP LOOPP_MINUS
LD LIST_POS2
PUSH
CALL PRINT_NUMBER
HLT